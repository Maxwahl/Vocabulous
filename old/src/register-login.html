<!--
@license
Copyright (c) 2016 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
-->

<link rel="import" href="../bower_components/polymer/polymer.html">
<link rel="import" href="../bower_components/polymer/polymer-element.html">
<link rel="import" href="../bower_components/polymer/lib/mixins/gesture-event-listeners.html">
<link rel="import" href="../bower_components/vaadin-valo-theme/vaadin-text-field.html">
<link rel="import" href="../bower_components/vaadin-text-field/vaadin-text-field.html">
<link rel="import" href="../bower_components/vaadin-text-field/vaadin-password-field.html">

<link rel="import" href="../bower_components/vaadin-valo-theme/vaadin-button.html">
<link rel="import" href="../bower_components/vaadin-button/vaadin-button.html">
<link rel="import" href="../bower_components/vaadin-valo-theme/vaadin-text-field.html">
<link rel="import" href="../bower_components/vaadin-text-field/vaadin-text-field.html">
<link rel="import" href="../bower_components/vaadin-valo-theme/color.html">
<link rel="import" href="../bower_components/paper-toast/paper-toast.html">
<link rel="import" href="../bower_components/paper-input/paper-input.html">
<link rel="import" href="../bower_components/paper-password-input/paper-password-input.html">
<link rel="import" href="../bower_components/paper-button/paper-button.html">
<link rel="import" href="../bower_components/paper-dialog/paper-dialog.html">
<link rel="import" href="../bower_components/iron-icons/iron-icons.html">
<link rel="import" href="../bower_components/iron-icons/communication-icons.html">
<link rel="import" href="shared-styles.html">

<dom-module id="register-login">
  <template>
    <style include="shared-styles">
       :host {
        --app-primary-color: var(--headlineCard);
        --app-secondary-color: var(--secondaryFontColorCard);
        display: block;
        padding: 10px;
        background: unset;
        min-height: 400px;
      }
      
      .error-message {
        color: red;
      }
      .header {
        height: 36%;
        font-weight: 200;
        display: flex;
        flex-direction: column;
        flex: 1;
        justify-content: flex-end;
        margin: 0 !important;
        padding: 0 !important;
      }
      
      h1 {
        color:  #1976d2;
        font-size: 24px;
        font-family: 'Open sans';
        font-weight: 500;
        text-align: center;
        margin-left: auto;
        margin-right: auto;
        width: 100%;
      }
      .login {
        margin-top: 100px;
        width: 16%;
        /*height: 400%;*/
        text-align:  left;
        background-color: white;
        padding-left: 40px;
        padding-right: 40px;
        padding-top: 5px;
        margin-left: auto;
        margin-right: auto;
        border-radius: 5px;
        box-shadow: 0 10px 20px rgba(0,0,0,0.19), 0 6px 6px rgba(0,0,0,0.23);
      }
      
      paper-input{
        text-align:  left;
        width: 100%;
        --paper-input-container-underline: {
          display: none;
        };
        --paper-input-container-underline-focus: {
          display: none;
        };
        --paper-input-container-underline-disabled: {
          display: none;
        };
        --paper-input-container-focus-color: #1976d2;
      }
      paper-password-input{
        width: 100%;
        --paper-input-container-underline: {
          display: none;
        };
        --paper-input-container-underline-focus: {
          display: none;
        };
        --paper-input-container-underline-disabled: {
          display: none;
        };
        --paper-input-container-focus-color: #1976d2;
      }
      #loginButton{
        color: white;
        background-color: #1976d2;
        height: 30px;
        font-size: 0.85em;
        margin-top: 20px;
        width: 100%;
        padding: 0;
        margin-left: -1px;
      }
      #registerButton{
        margin-top: -40px;
        font-size: 0.65em;
        padding: 0;
        width: 100%;
        margin-left: auto;
        margin-right: auto;
      }
      #forgotButton{
        margin-top: -60px;
        font-size: 0.65em;
        margin-left: 72px;
        padding: 0;
        width: 100%;
        margin-left: auto;
        margin-right: auto;
        padding-bottom: 8%;
      }
      #forgotpwdemail{
        width: 90%;
        --paper-input-container-underline: {
          display: none;
        };
        --paper-input-container-underline-focus: {
          display: none;
        };
        --paper-input-container-underline-disabled: {
          display: none;
        };
      }
      paper-dialog{
        width: 400px;
        height: 170px;
        border-radius: 5px;
        border-color: var(--secondaryFontColorCard);
        background-color: var(--hover-color);
        color: #1976d2;
      }
      .confirmButtons{
        color: #1976d2;
      }
      .emailIcon{
        color: black;
        margin-right: 5px;
        margin-top: -5px;
        height: 20px;
        width: 20px;
      }
      
      #toast1{
        background-color: red;
        color: white;
      }
      #toast2{
        background-color: green;
        color: white;
      }
    </style>
    
    <div class="login">
      <h1>Vocabulous</h1>
      <paper-input label="Username" name="username" id="username"></paper-input>
      <paper-password-input label="Password" name="password"></paper-password-input>
      <paper-button id="loginButton">Login</paper-button>
      <paper-button id="registerButton" noink>Don't have an account? Sign up</paper-button>
      <paper-button id="forgotButton" noink>Forgot password</paper-button>
    </div>
    <paper-dialog id="confirm">
        <h2>Forgot Password</h2>
        <paper-input label="Enter Email" name="forgotpwdemail" id="forgotpwdemail" no-label-float>
          <iron-icon class="emailIcon" icon="communication:mail-outline" slot="prefix"></iron-icon>
      </paper-input>
        <div class="buttons">
          <paper-button class="confirmButtons"name="no">Send Email</paper-button>
        </div>
      </paper-dialog>
      <paper-toast id="toast0" text="Wrong username or password!"></paper-toast>
      <paper-toast id="toast1" text="There is no user with this email!"></paper-toast>
      <paper-toast id="toast2" text="We have sent you an email with your account details!"></paper-toast>
  </template>
  <script>
    class RegisterLogin extends Polymer.Element {
      static get is() { return 'register-login'; }

      static get properties() {
        return {
          username: {
              type: String
          },
          password: {
              type: String
          },
          errorMessage: String
        };
      }
      _getRegisterNew(){
        return Polymer.dom(this.root).querySelector("paper-button[id=registerButton]");
      }
      _getPaperDialog(){
        return Polymer.dom(this.root).querySelector("paper-dialog");
      }
      _getForgotPasswordButton(){
        return Polymer.dom(this.root).querySelector("paper-button[id=forgotButton]");
      }
      _getLoginButton(){
        return Polymer.dom(this.root).querySelector("paper-button");
      }
      _getUsername(){
        return Polymer.dom(this.root).querySelector("paper-input");
      }
      _getPassword(){
        return Polymer.dom(this.root).querySelector("paper-password-input");
      }
      _getToast(){
        return Polymer.dom(this.root).querySelector("paper-toast[id=toast0]");
      }
      _getWrongToast(){
        return Polymer.dom(this.root).querySelector("paper-toast[id=toast1]");
      }
      _getCorrectToast(){
        return Polymer.dom(this.root).querySelector("paper-toast[id=toast2]");
      }
      _getEmailInput(){
        return Polymer.dom(this.root).querySelector("paper-input[id=forgotpwdemail]");
      }
      _getSendButton(){
        return Polymer.dom(this.root).querySelector("paper-button[class=confirmButtons]");
      }
    }
    
   window.customElements.define(RegisterLogin.is, RegisterLogin);
  </script>
  <script src="../develop-javascript/src/login.js" type="module"></script>
</dom-module>
